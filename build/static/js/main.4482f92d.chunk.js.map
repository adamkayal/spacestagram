{"version":3,"sources":["components/Post/Post.js","firebase/firebase.js","components/ModalContainer/ModalContainer.js","App.js","index.js"],"names":["Post","idx","copyright","date","explanation","hdurl","thumbnail_url","url","title","user","setOpenLogIn","setOpenShare","setPostUrl","useState","liked","setLiked","comment","setComment","comments","setComments","useEffect","addLike","$","fadeIn","fadeOut","className","src","alt","onDoubleClick","id","onClick","document","getElementById","focus","map","email","text","type","placeholder","value","onChange","e","target","disabled","event","preventDefault","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","getModalStyle","top","left","transform","ModalContainer","open","setOpen","buttonText","postUrl","setOpenSignUp","modalStyle","setEmail","password","setPassword","Modal","onClose","style","Input","autoFocus","Button","App","posts","setPosts","openSignUp","openLogIn","openShare","setUser","showLoader","setShowLoader","startDate","setStartDate","endDate","setEndDate","axiosRetry","axios","retries","retryCondition","error","response","status","unsubscribe","onAuthStateChanged","authUser","search","queryString","concat","get","then","data","catch","alert","console","getTodayString","Date","toISOString","slice","HtmlTooltip","withStyles","theme","tooltip","backgroundColor","color","maxWidth","fontSize","typography","pxToRem","border","textAlign","Tooltip","createUserWithEmailAndPassword","message","signInWithEmailAndPassword","updateProfile","displayName","navigator","clipboard","writeText","signOut","noValidate","TextField","label","InputLabelProps","shrink","InputProps","inputProps","max","min","height","width","visible","post","ReactDOM","render"],"mappings":"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","file":"static/js/main.4482f92d.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport $ from \"jquery\";\r\nimport \"./Post.css\";\r\n\r\nfunction Post({\r\n    idx,\r\n    copyright = \"NASA\",\r\n    date,\r\n    explanation,\r\n    hdurl,\r\n    thumbnail_url,\r\n    url,\r\n    title,\r\n    user,\r\n    setOpenLogIn,\r\n    setOpenShare,\r\n    setPostUrl,\r\n}) {\r\n    Post.propTypes = {\r\n        idx: PropTypes.number.isRequired,\r\n        copyright: PropTypes.string,\r\n        date: PropTypes.string.isRequired,\r\n        explanation: PropTypes.string.isRequired,\r\n        thumbnail_url: PropTypes.string,\r\n        hdurl: PropTypes.string,\r\n        url: PropTypes.string,\r\n        title: PropTypes.string.isRequired,\r\n        user: PropTypes.any,\r\n        setOpenLogIn: PropTypes.func.isRequired,\r\n        setOpenShare: PropTypes.func.isRequired,\r\n        setPostUrl: PropTypes.func.isRequired,\r\n    };\r\n\r\n    const [liked, setLiked] = useState(false);\r\n    const [comment, setComment] = useState(\"\");\r\n    const [comments, setComments] = useState([]);\r\n\r\n    // we remove all likes if the user is not logged in\r\n    useEffect(() => {\r\n        if (!user) {\r\n            setLiked(false);\r\n        }\r\n    }, [user]);\r\n\r\n    // function that adds the like\r\n    const addLike = () => {\r\n        if (user) {\r\n            // if the user is logged in\r\n            // we toggle the like state\r\n            setLiked(!liked);\r\n\r\n            // heart animation\r\n            $(`#overlay_${idx}`).fadeIn(400, function () {\r\n                $(`#overlay_${idx}`).fadeOut(400);\r\n            });\r\n        } else {\r\n            // if the user is not logged in, we prompt him to log in\r\n            setOpenLogIn(true);\r\n        }\r\n    };\r\n\r\n    // function that opens the share dialog\r\n    const share = () => {\r\n        setPostUrl(thumbnail_url || hdurl || url);\r\n        setOpenShare(true);\r\n    };\r\n\r\n    // function that focuses the comment input if the user is logged in\r\n    const focusComment = () => {\r\n        if (user) {\r\n            // if the user is logged in, we focus the comment input\r\n            document.getElementById(`input_${idx}`).focus();\r\n        } else {\r\n            // if the user is not logged in, we prompt him to log in\r\n            setOpenLogIn(true);\r\n        }\r\n    };\r\n\r\n    // function that handles the addition of a comment\r\n    const postComment = (event) => {\r\n        event.preventDefault();\r\n\r\n        if (user) {\r\n            // if the user is logged in, we add the new comment\r\n            setComments([\r\n                ...comments,\r\n                {\r\n                    email: user.email,\r\n                    text: comment,\r\n                },\r\n            ]);\r\n\r\n            // and clear the comment input\r\n            setComment(\"\");\r\n        } else {\r\n            // if the user is not logged in, we prompt him to log in\r\n            setOpenLogIn(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"post\">\r\n            <h2 className=\"post__title\" data-testid=\"title\">\r\n                {title}\r\n            </h2>\r\n\r\n            <div className=\"post__imageContainer\">\r\n                <img\r\n                    className=\"post__image\"\r\n                    src={\r\n                        thumbnail_url ||\r\n                        hdurl ||\r\n                        url ||\r\n                        \"/no_image_available.jpg\"\r\n                    }\r\n                    alt={title}\r\n                    title={title}\r\n                    onDoubleClick={addLike}\r\n                    data-testid=\"postImage\"\r\n                />\r\n\r\n                <img\r\n                    id={`overlay_${idx}`}\r\n                    className=\"post__imageOverlay\"\r\n                    src={\"/heart_icon.png\"}\r\n                    alt=\"Heart\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"post__tools\">\r\n                <img\r\n                    className=\"post__icon\"\r\n                    src={\r\n                        liked && user\r\n                            ? \"/heart_icon_liked.png\"\r\n                            : \"/heart_icon_unliked.png\"\r\n                    }\r\n                    alt=\"Like\"\r\n                    title=\"Like\"\r\n                    onClick={addLike}\r\n                    data-testid=\"likeBtn\"\r\n                />\r\n                <img\r\n                    className=\"post__icon\"\r\n                    src=\"/comment_icon.png\"\r\n                    alt=\"Comment\"\r\n                    title=\"Comment\"\r\n                    onClick={focusComment}\r\n                    data-testid=\"commentBtn\"\r\n                />\r\n                <img\r\n                    className=\"post__icon\"\r\n                    src=\"/share_icon.png\"\r\n                    alt=\"Share\"\r\n                    title=\"Share\"\r\n                    onClick={share}\r\n                />\r\n            </div>\r\n\r\n            <p className=\"post__text\" data-testid=\"postText\">\r\n                <strong>{copyright}</strong>: {explanation}\r\n            </p>\r\n            <p className=\"post__date\">{date}</p>\r\n\r\n            <div data-testid=\"postComments\">\r\n                {comments.map((comment, idx) => (\r\n                    <p key={`comment_${idx}`} className=\"post__comment\">\r\n                        <strong>{comment.email}</strong> {comment.text}\r\n                    </p>\r\n                ))}\r\n            </div>\r\n\r\n            <form className=\"post__commentBox\">\r\n                <input\r\n                    id={`input_${idx}`}\r\n                    className=\"post__input\"\r\n                    type=\"text\"\r\n                    placeholder=\"Add a comment...\"\r\n                    value={comment}\r\n                    onChange={(e) => setComment(e.target.value)}\r\n                    data-testid=\"commentInput\"\r\n                />\r\n                <button\r\n                    className=\"post__button\"\r\n                    disabled={!comment}\r\n                    type=\"submit\"\r\n                    onClick={postComment}\r\n                    data-testid=\"commentPostBtn\"\r\n                >\r\n                    Post\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;\r\n","import { firebase } from '@firebase/app'\r\nimport '@firebase/firestore'\r\nimport '@firebase/auth'\r\nimport '@firebase/storage'\r\n\r\nfirebase.initializeApp({\r\n  apiKey: \"AIzaSyBZk_jO9tqniRpB6AbPb5lhYeisY6-Nb74\",\r\n  authDomain: \"adamkayal-spacestagram.firebaseapp.com\",\r\n  projectId: \"adamkayal-spacestagram\",\r\n  storageBucket: \"adamkayal-spacestagram.appspot.com\",\r\n  messagingSenderId: \"859658276215\",\r\n  appId: \"1:859658276215:web:6276119e314a7d61582572\",\r\n  measurementId: \"G-DTJGBGWV2K\"\r\n});\r\n\r\nconst db = firebase.firestore();\r\nconst auth = firebase.auth();\r\nconst storage = firebase.storage();\r\n\r\nexport { db, auth, storage };\r\n","import { Button, Input, Modal } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./ModalContainer.css\";\r\n\r\nfunction getModalStyle() {\r\n    const top = 50;\r\n    const left = 50;\r\n\r\n    return {\r\n        top: `${top}%`,\r\n        left: `${left}%`,\r\n        transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n}\r\n\r\nfunction ModalContainer({\r\n    open,\r\n    setOpen,\r\n    onClick,\r\n    buttonText,\r\n    postUrl,\r\n    setOpenSignUp,\r\n}) {\r\n    ModalContainer.propTypes = {\r\n        open: PropTypes.bool.isRequired,\r\n        setOpen: PropTypes.func.isRequired,\r\n        onClick: PropTypes.any.isRequired,\r\n        buttonText: PropTypes.string.isRequired,\r\n        postUrl: PropTypes.string,\r\n        setOpenSignUp: PropTypes.func,\r\n    };\r\n\r\n    const [modalStyle] = useState(getModalStyle);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    return (\r\n        <Modal\r\n            open={open}\r\n            onClose={() => setOpen(false)}\r\n            aria-labelledby=\"simple-modal-title\"\r\n            aria-describedby=\"simple-modal-description\"\r\n            data-testid=\"modal\"\r\n        >\r\n            <form style={modalStyle} className=\"modalContainer__paper\">\r\n                {buttonText === \"Log In\" && (\r\n                    <div className=\"modalContainer__message\">\r\n                        Log in to like and comment on posts\r\n                    </div>\r\n                )}\r\n                <div className=\"modalContainer__signup\">\r\n                    <center>\r\n                        <img\r\n                            className=\"modalContainer__headerImage\"\r\n                            src=\"/logo.png\"\r\n                            alt=\"spacetagram logo\"\r\n                            data-testid=\"logo\"\r\n                        />\r\n                    </center>\r\n\r\n                    {buttonText === \"Copy to clipboard\" ? (\r\n                        <Input\r\n                            type=\"text\"\r\n                            value={postUrl}\r\n                            disabled\r\n                            data-testid=\"copyInput\"\r\n                        />\r\n                    ) : (\r\n                        <div className=\"modalContainer__signup\">\r\n                            <Input\r\n                                type=\"email\"\r\n                                placeholder=\"email\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                autoFocus\r\n                                data-testid=\"emailInput\"\r\n                            />\r\n                            <Input\r\n                                type=\"password\"\r\n                                placeholder=\"password\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                                data-testid=\"passwordInput\"\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                    <Button\r\n                        className=\"modalContainer__button\"\r\n                        type={\r\n                            buttonText !== \"Copy to clipboard\" ? \"submit\" : null\r\n                        }\r\n                        onClick={(event) => onClick(event, email, password)}\r\n                    >\r\n                        {buttonText}\r\n                    </Button>\r\n\r\n                    {buttonText === \"Log In\" && (\r\n                        <div\r\n                            className=\"modalContainer__signUpOfferText\"\r\n                            data-testid=\"signUpOffer\"\r\n                        >\r\n                            Don't have an account?\r\n                            <button\r\n                                className=\"modalContainer__buttonLink\"\r\n                                onClick={() => {\r\n                                    setOpen(false);\r\n                                    setOpenSignUp(true);\r\n                                }}\r\n                            >\r\n                                Sign up\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </form>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default ModalContainer;\r\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Post from \"./components/Post/Post\";\nimport { auth } from \"./firebase/firebase\";\nimport axios from \"axios\";\nimport axiosRetry from \"axios-retry\";\nimport { Button, TextField, Tooltip } from \"@material-ui/core\";\nimport ModalContainer from \"./components/ModalContainer/ModalContainer\";\nimport Loader from \"react-loader-spinner\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nfunction App() {\n    const [posts, setPosts] = useState([]);\n    const [openSignUp, setOpenSignUp] = useState(false);\n    const [openLogIn, setOpenLogIn] = useState(false);\n    const [openShare, setOpenShare] = useState(false);\n    const [postUrl, setPostUrl] = useState(\"\");\n    const [user, setUser] = useState(null);\n\n    const [showLoader, setShowLoader] = useState(false);\n    const [startDate, setStartDate] = useState(\"\");\n    const [endDate, setEndDate] = useState(\"\");\n\n    // will retry the GET request up to 3 times if there is an internal server error\n    axiosRetry(axios, {\n        retries: 3,\n        retryCondition: (error) => error.response.status === 500,\n    });\n\n    // we set a listener on the user object\n    useEffect(() => {\n        const unsubscribe = auth.onAuthStateChanged((authUser) => {\n            if (authUser) {\n                setUser(authUser);\n            } else {\n                setUser(null);\n            }\n        });\n\n        return () => {\n            unsubscribe();\n        };\n    }, [user]);\n\n    // we do a search at the when the page loads\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => search(), []);\n\n    // this function fetches\n    const search = (event) => {\n        if (event) event.preventDefault();\n\n        // if dates are not correctly selected, we will choose 20 random pictures\n        let queryString = \"count=20\";\n        if (startDate) {\n            // if a correct start date is chosen, we add the start_date query string instead\n            queryString = `start_date=${startDate}`;\n            if (endDate) {\n                // if a correct end date is chosen, we also add the end_date query string\n                queryString = queryString.concat(`&end_date=${endDate}`);\n            }\n        }\n\n        setShowLoader(true);\n        axios\n            .get(\n                `https://api.nasa.gov/planetary/apod?api_key=ESNnOstvfNx2gncbFYQtbjIZDCaLKqbg5PM0Xo83&thumbs=True&${queryString}`\n            )\n            .then((response) => {\n                setShowLoader(false);\n                setPosts(response.data);\n            })\n            .catch((error) => {\n                alert(\"API call failed after 3 retry attempts. Please try again.\");\n                console.error(error);\n                setShowLoader(false);\n            });\n    };\n\n    // function that handles the sign up\n    const signUp = (event, email, password) => {\n        event.preventDefault();\n\n        // we create the user with firebase\n        auth.createUserWithEmailAndPassword(email, password)\n            .then(() => setOpenSignUp(false))\n            .catch((error) => alert(error.message));\n    };\n\n    // function that handles the log in\n    const logIn = (event, email, password) => {\n        event.preventDefault();\n\n        // we log in the user with firebase\n        auth.signInWithEmailAndPassword(email, password)\n            .then((authUser) => {\n                authUser.user.updateProfile({\n                    displayName: email,\n                });\n                setOpenLogIn(false);\n            })\n            .catch((error) => alert(error.message));\n    };\n\n    // function that copies the post url to the clipboard\n    const copyToClipboard = (event) => {\n        event.preventDefault();\n\n        // we copy the url to the clipboard and close the modal\n        navigator.clipboard.writeText(postUrl);\n        setOpenShare(false);\n    };\n\n    // handy function to get the correct date format of today's\n    // date for the date selectors\n    const getTodayString = () => {\n        return new Date().toISOString().slice(0, 10);\n    };\n\n    const HtmlTooltip = withStyles((theme) => ({\n        tooltip: {\n            backgroundColor: \"#f5f5f9\",\n            color: \"rgba(0, 0, 0, 0.87)\",\n            maxWidth: 220,\n            fontSize: theme.typography.pxToRem(16),\n            border: \"1px solid #dadde9\",\n            textAlign: \"justify\",\n        },\n    }))(Tooltip);\n\n    return (\n        <div className=\"app\">\n            <ModalContainer\n                open={openSignUp}\n                setOpen={setOpenSignUp}\n                onClick={signUp}\n                buttonText=\"Sign Up\"\n            />\n\n            <ModalContainer\n                open={openLogIn}\n                setOpen={setOpenLogIn}\n                onClick={logIn}\n                buttonText=\"Log In\"\n                setOpenSignUp={setOpenSignUp}\n            />\n\n            <ModalContainer\n                open={openShare}\n                setOpen={setOpenShare}\n                onClick={copyToClipboard}\n                buttonText=\"Copy to clipboard\"\n                postUrl={postUrl}\n            />\n\n            <div className=\"app__header\">\n                <img\n                    className=\"app__headerImage\"\n                    src=\"/logo.png\"\n                    alt=\"spacetagram logo\"\n                    data-testid=\"logo\"\n                />\n\n                {user ? (\n                    <div>\n                        <Button onClick={() => auth.signOut()}>Logout</Button>\n                    </div>\n                ) : (\n                    <div className=\"app__authButtons\">\n                        <Button onClick={() => setOpenLogIn(true)}>\n                            Log In\n                        </Button>\n                        <Button onClick={() => setOpenSignUp(true)}>\n                            Sign Up\n                        </Button>\n                    </div>\n                )}\n            </div>\n\n            <form className=\"app__search\" noValidate>\n                <div className=\"app__dateTitle\">\n                    <HtmlTooltip title=\"If no dates are selected, 20 random posts will be shown. If only a start date is selected, the end date will by default be today's date.\">\n                        <InfoIcon className=\"app__infoIcon\" aria-label=\"info\" />\n                    </HtmlTooltip>\n                    <p>\n                        <strong>Select dates for search (optional):</strong>\n                    </p>\n                </div>\n                <TextField\n                    id=\"start-date\"\n                    data-testid=\"startDate\"\n                    label=\"Start date\"\n                    type=\"date\"\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                    InputProps={{\n                        inputProps: { max: getTodayString() },\n                    }}\n                    value={startDate}\n                    onChange={(event) => setStartDate(event.target.value)}\n                />\n                <TextField\n                    id=\"end-date\"\n                    data-testid=\"endDate\"\n                    label=\"End date\"\n                    type=\"date\"\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                    InputProps={{\n                        inputProps: { min: startDate, max: getTodayString() },\n                    }}\n                    value={endDate}\n                    onChange={(event) => setEndDate(event.target.value)}\n                    disabled={!startDate}\n                />\n                <Button type=\"submit\" onClick={(event) => search(event)}>\n                    Search\n                </Button>\n            </form>\n\n            <div className=\"app__posts\">\n                <Loader\n                    type=\"Circles\"\n                    color=\"#0095f6\"\n                    height={200}\n                    width={200}\n                    visible={showLoader}\n                    className=\"app__loader\"\n                />\n\n                {!showLoader &&\n                    posts.map((post, idx) => (\n                        <Post\n                            key={idx}\n                            idx={idx}\n                            user={user}\n                            setOpenLogIn={setOpenLogIn}\n                            setOpenShare={setOpenShare}\n                            setPostUrl={setPostUrl}\n                            {...post}\n                        />\n                    ))}\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}