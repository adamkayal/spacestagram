(this.webpackJsonpspacestagram=this.webpackJsonpspacestagram||[]).push([[0],{121:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(12),s=a.n(c),o=(a(94),a(81)),i=a(16),r=(a(95),a(80)),l=a(58),p=a.n(l),u=(a(96),a(4));var d=function(e){var t=e.idx,a=e.copyright,c=void 0===a?"NASA":a,s=e.date,o=e.explanation,l=e.hdurl,d=e.thumbnail_url,j=e.url,b=e.title,m=e.user,O=e.setOpenLogIn,g=e.setOpenShare,h=e.setPostUrl,f=new Date(s).toDateString(),_=Object(n.useState)(!1),x=Object(i.a)(_,2),v=x[0],y=x[1],C=Object(n.useState)(""),N=Object(i.a)(C,2),S=N[0],k=N[1],I=Object(n.useState)([]),P=Object(i.a)(I,2),L=P[0],w=P[1],D=function(){m?(y(!v),p()("#overlay_".concat(t)).fadeIn(400,(function(){p()("#overlay_".concat(t)).fadeOut(400)}))):O(!0)};return Object(u.jsxs)("div",{className:"post",children:[Object(u.jsx)("p",{className:"post__title",children:b}),Object(u.jsxs)("div",{className:"post__imageContainer",children:[Object(u.jsx)("img",{className:"post__image",src:d||l||j||"/no_image_available.jpg",alt:b,title:b,onDoubleClick:D}),Object(u.jsx)("img",{id:"overlay_".concat(t),className:"post__imageOverlay",src:"/heart_icon.png",alt:"Heart"})]}),Object(u.jsxs)("div",{className:"post__tools",children:[Object(u.jsx)("img",{className:"post__icon",src:v&&m?"/heart_icon_liked.png":"/heart_icon_unliked.png",alt:"Like",title:"Like",onClick:D}),Object(u.jsx)("img",{className:"post__icon",src:"/comment_icon.png",alt:"Comment",title:"Comment",onClick:function(){m?document.getElementById("input_".concat(t)).focus():O(!0)}}),Object(u.jsx)("img",{className:"post__icon",src:"/share_icon.png",alt:"Share",title:"Share",onClick:function(){h(d||l||j),g(!0)}})]}),Object(u.jsxs)("p",{className:"post__text",children:[Object(u.jsx)("strong",{children:c}),": ",o]}),Object(u.jsx)("p",{className:"post__date",children:f}),Object(u.jsx)("div",{children:L.map((function(e,t){return Object(u.jsxs)("p",{className:"post__comment",children:[Object(u.jsx)("strong",{children:e.email})," ",e.text]},"comment_".concat(t))}))}),Object(u.jsxs)("form",{className:"post__commentBox",children:[Object(u.jsx)("input",{id:"input_".concat(t),className:"post__input",type:"text",placeholder:"Add a comment...",value:S,onChange:function(e){return k(e.target.value)}}),Object(u.jsx)("button",{className:"post__button",disabled:!S,type:"submit",onClick:function(e){e.preventDefault(),m?(w([].concat(Object(r.a)(L),[{email:m.displayName,text:S}])),k("")):O(!0)},children:"Post"})]})]})},j=a(8);a(98),a(99),a(100);j.b.initializeApp({apiKey:"AIzaSyBZk_jO9tqniRpB6AbPb5lhYeisY6-Nb74",authDomain:"adamkayal-spacestagram.firebaseapp.com",projectId:"adamkayal-spacestagram",storageBucket:"adamkayal-spacestagram.appspot.com",messagingSenderId:"859658276215",appId:"1:859658276215:web:6276119e314a7d61582572",measurementId:"G-DTJGBGWV2K"});j.b.firestore();var b=j.b.auth(),m=(j.b.storage(),a(59)),O=a.n(m),g=a(71),h=a.n(g),f=a(188),_=a(185),x=a(184),v=a(186),y=a(181);a(121);function C(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var N=function(e){var t=e.open,a=e.setOpen,c=e.onClick,s=e.buttonText,o=e.postUrl,r=e.setOpenSignUp,l=Object(n.useState)(C),p=Object(i.a)(l,1)[0],d=Object(n.useState)(""),j=Object(i.a)(d,2),b=j[0],m=j[1],O=Object(n.useState)(""),g=Object(i.a)(O,2),h=g[0],f=g[1];return Object(u.jsx)(v.a,{open:t,onClose:function(){return a(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(u.jsxs)("div",{style:p,className:"modalContainer__paper",children:["Log In"===s&&Object(u.jsx)("div",{className:"modalContainer__message",children:"Log in to like and comment on posts"}),Object(u.jsxs)("div",{className:"app__signup",children:[Object(u.jsx)("center",{children:Object(u.jsx)("img",{className:"app__headerImage",src:"/logo.png",alt:"spacetagram logo"})}),"Copy to clipboard"===s?Object(u.jsx)(y.a,{type:"text",value:o,disabled:!0}):Object(u.jsxs)("div",{className:"app__signup",children:[Object(u.jsx)(y.a,{type:"email",placeholder:"email",value:b,onChange:function(e){return m(e.target.value)},autoFocus:!0}),Object(u.jsx)(y.a,{type:"password",placeholder:"password",value:h,onChange:function(e){return f(e.target.value)}})]}),Object(u.jsx)(_.a,{className:"modalContainer__button",type:"Copy to clipboard"!==s?"submit":null,onClick:function(e){return c(e,b,h)},children:s}),"Log In"===s&&Object(u.jsxs)("div",{className:"modalContainer__signUpOfferText",children:["Don't have an account?",Object(u.jsx)("button",{className:"modalContainer__buttonLink",onClick:function(){a(!1),r(!0)},children:"Sign up"})]})]})]})})},S=a(77),k=a.n(S),I=a(79),P=a.n(I),L=a(9);var w=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),l=r[0],p=r[1],j=Object(n.useState)(!1),m=Object(i.a)(j,2),g=m[0],v=m[1],y=Object(n.useState)(!1),C=Object(i.a)(y,2),S=C[0],I=C[1],w=Object(n.useState)(""),D=Object(i.a)(w,2),T=D[0],A=D[1],B=Object(n.useState)(null),U=Object(i.a)(B,2),F=U[0],E=U[1],W=Object(n.useState)(!1),z=Object(i.a)(W,2),G=z[0],J=z[1],K=Object(n.useState)(""),Y=Object(i.a)(K,2),q=Y[0],R=Y[1],V=Object(n.useState)(""),Z=Object(i.a)(V,2),H=Z[0],M=Z[1];h()(O.a,{retries:3}),Object(n.useEffect)((function(){var e=b.onAuthStateChanged((function(e){E(e||null)}));return function(){e()}}),[F]),Object(n.useEffect)((function(){return Q()}),[]);var Q=function(e){e&&e.preventDefault();var t="count=20";q&&(t="start_date=".concat(q),H&&(t=t.concat("&end_date=".concat(H)))),J(!0),O.a.get("https://api.nasa.gov/planetary/apod?api_key=ESNnOstvfNx2gncbFYQtbjIZDCaLKqbg5PM0Xo83&thumbs=True&".concat(t)).then((function(e){J(!1),c(e.data)})).catch((function(e){alert("API call failed after 3 retry attempts. Please try again."),console.error(e),J(!1)}))},X=function(){return(new Date).toISOString().slice(0,10)},$=Object(L.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(16),border:"1px solid #dadde9",textAlign:"justify"}}}))(f.a);return Object(u.jsxs)("div",{className:"app",children:[Object(u.jsx)(N,{open:l,setOpen:p,onClick:function(e,t,a){e.preventDefault(),b.createUserWithEmailAndPassword(t,a).then((function(){return p(!1)})).catch((function(e){return alert(e.message)}))},buttonText:"Sign Up"}),Object(u.jsx)(N,{open:g,setOpen:v,onClick:function(e,t,a){e.preventDefault(),b.signInWithEmailAndPassword(t,a).then((function(e){e.user.updateProfile({displayName:t}),v(!1)})).catch((function(e){return alert(e.message)}))},buttonText:"Log In",setOpenSignUp:p}),Object(u.jsx)(N,{open:S,setOpen:I,onClick:function(){return navigator.clipboard.writeText(T)},buttonText:"Copy to clipboard",postUrl:T}),Object(u.jsxs)("div",{className:"app__header",children:[Object(u.jsx)("img",{className:"app__headerImage",src:"/logo.png",alt:"spacetagram logo"}),F?Object(u.jsx)("div",{children:Object(u.jsx)(_.a,{onClick:function(){return b.signOut()},children:"Logout"})}):Object(u.jsxs)("div",{className:"app__authButtons",children:[Object(u.jsx)(_.a,{onClick:function(){return v(!0)},children:"Log In"}),Object(u.jsx)(_.a,{onClick:function(){return p(!0)},children:"Sign Up"})]})]}),Object(u.jsxs)("form",{className:"app__search",noValidate:!0,children:[Object(u.jsxs)("div",{className:"app__dateTitle",children:[Object(u.jsx)($,{title:"If no dates are selected, 20 random posts will be shown. If only a start date is selected, the end date will by default be today's date.",children:Object(u.jsx)(P.a,{className:"app__infoIcon","aria-label":"info"})}),Object(u.jsx)("p",{children:Object(u.jsx)("strong",{children:"Select dates for search (optional):"})})]}),Object(u.jsx)(x.a,{id:"start-date",label:"Start date",type:"date",InputLabelProps:{shrink:!0},InputProps:{inputProps:{max:X()}},value:q,onChange:function(e){return R(e.target.value)}}),Object(u.jsx)(x.a,{id:"end-date",label:"End date",type:"date",InputLabelProps:{shrink:!0},InputProps:{inputProps:{min:q,max:X()}},value:H,onChange:function(e){return M(e.target.value)},disabled:!q}),Object(u.jsx)(_.a,{type:"submit",onClick:function(e){return Q(e)},children:"Search"})]}),Object(u.jsxs)("div",{className:"app__posts",children:[Object(u.jsx)(k.a,{type:"Circles",color:"#00BFFF",height:200,width:200,visible:G,className:"app__loader"}),!G&&a.map((function(e,t){return Object(u.jsx)(d,Object(o.a)({idx:t,user:F,setOpenLogIn:v,setOpenShare:I,setPostUrl:A},e),t)}))]})]})},D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,189)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),s(e),o(e)}))};s.a.render(Object(u.jsx)(w,{}),document.getElementById("root")),D()},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[149,1,2]]]);
//# sourceMappingURL=main.84aa7aff.chunk.js.map